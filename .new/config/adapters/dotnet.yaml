# =============================================================================
# .NET / C# Adapter Configuration
# =============================================================================
# Technology stack adapter for .NET ecosystem (C#, ASP.NET Core, EF Core)
# =============================================================================

adapter:
  id: "dotnet"
  name: ".NET / C#"
  version: "1.0"
  language: "C#"
  language_version: "12.0"
  framework: "ASP.NET Core"
  framework_version: "8.0+"

# -----------------------------------------------------------------------------
# Terminology Mapping
# -----------------------------------------------------------------------------
terminology:
  # Architecture components
  module: "Module"
  service: "Service"
  repository: "Repository"
  controller: "Controller"
  handler: "Handler"
  model: "Model"
  entity: "Entity"
  value_object: "Value Object"
  aggregate: "Aggregate"
  domain_event: "Domain Event"
  
  # DI registration types
  di_transient: "Transient"
  di_scoped: "Scoped"
  di_singleton: "Singleton"
  
  # File extensions
  source_extension: ".cs"
  test_extension: "Tests.cs"
  config_extension: ".json"
  
  # Project types
  project_types:
    - id: "classlib"
      name: "Class Library"
      template: "classlib"
    - id: "webapi"
      name: "Web API"
      template: "webapi"
    - id: "console"
      name: "Console Application"
      template: "console"
    - id: "test"
      name: "Test Project"
      template: "xunit"

# -----------------------------------------------------------------------------
# Commands
# -----------------------------------------------------------------------------
commands:
  # Dependency restoration
  install: "dotnet restore"
  
  # Build
  build: "dotnet build"
  build_release: "dotnet build -c Release"
  
  # Test
  test: "dotnet test"
  test_coverage: "dotnet test --collect:\"XPlat Code Coverage\""
  
  # Lint/format
  lint: "dotnet format --verify-no-changes"
  format: "dotnet format"
  
  # Run
  run: "dotnet run"
  watch: "dotnet watch run"
  
  # Migrations (EF Core)
  migration_add: "dotnet ef migrations add {name}"
  migration_apply: "dotnet ef database update"
  
  # Package management
  add_package: "dotnet add package {package}"
  remove_package: "dotnet remove package {package}"

# -----------------------------------------------------------------------------
# Naming Conventions
# -----------------------------------------------------------------------------
patterns:
  namespace_convention: "PascalCase"
  file_naming: "PascalCase"
  class_naming: "PascalCase"
  interface_naming: "IPascalCase"    # I-prefix for interfaces
  method_naming: "PascalCase"
  property_naming: "PascalCase"
  parameter_naming: "camelCase"
  private_field_naming: "_camelCase"  # underscore prefix
  constant_naming: "PascalCase"
  
  # Common suffixes
  suffixes:
    interface: ""                     # IOrderService (no suffix, I-prefix)
    service: "Service"                # OrderService
    repository: "Repository"          # OrderRepository
    controller: "Controller"          # OrderController
    handler: "Handler"                # OrderCreatedHandler
    validator: "Validator"            # OrderValidator
    configuration: "Configuration"    # OrderConfiguration

# -----------------------------------------------------------------------------
# Project Structure
# -----------------------------------------------------------------------------
project_structure:
  # Typical solution structure
  source_dir: "src/"
  test_dir: "tests/"
  output_dir: "bin/"
  
  # Common layer directories
  layers:
    domain: "{Project}.Domain"
    application: "{Project}.Application"
    infrastructure: "{Project}.Infrastructure"
    web: "{Project}.Web"
    contracts: "{Project}.Contracts"
    tests: "{Project}.Tests"
  
  # Configuration files
  config_files:
    - "*.sln"
    - "*.csproj"
    - "appsettings.json"
    - "appsettings.*.json"
    - "Directory.Build.props"
    - "Directory.Packages.props"

# -----------------------------------------------------------------------------
# Code Style
# -----------------------------------------------------------------------------
code_style:
  # Type system
  nullable_enabled: true
  
  # C# language features
  file_scoped_namespaces: true
  primary_constructors: false        # C# 12 feature
  collection_expressions: true       # C# 12 feature
  
  # XML documentation
  generate_xml_docs: true
  
  # String handling
  quote_style: "double"
  use_raw_strings: true             # C# 11+ raw string literals
  
  # Patterns
  use_pattern_matching: true
  use_records: true                  # For DTOs and Value Objects
  
  # Async patterns
  async_suffix: true                 # Method names end with Async
  configure_await: false             # ConfigureAwait(false) in libraries

# -----------------------------------------------------------------------------
# Framework-Specific Settings
# -----------------------------------------------------------------------------
framework_settings:
  # Dependency Injection
  dependency_injection:
    container: "Microsoft.Extensions.DependencyInjection"
    auto_registration: true
    
  # ORM
  orm:
    name: "Entity Framework Core"
    provider: "configurable"         # SqlServer, PostgreSQL, etc.
    
  # API
  api:
    style: "REST"
    versioning: true
    swagger: true
    
  # Logging
  logging:
    framework: "Microsoft.Extensions.Logging"
    structured: true

# -----------------------------------------------------------------------------
# Type Mappings
# -----------------------------------------------------------------------------
# Maps generic types to C# types
type_mappings:
  string: "string"
  integer: "int"
  long: "long"
  decimal: "decimal"
  boolean: "bool"
  datetime: "DateTime"
  datetimeoffset: "DateTimeOffset"
  uuid: "Guid"
  binary: "byte[]"
  
  # Collections
  list: "List<T>"
  set: "HashSet<T>"
  dictionary: "Dictionary<TKey, TValue>"
  readonly_list: "IReadOnlyList<T>"
  readonly_collection: "IReadOnlyCollection<T>"

# -----------------------------------------------------------------------------
# Common Base Classes (Framework Agnostic)
# -----------------------------------------------------------------------------
# These can be overridden by pattern packs
base_classes:
  entity: "Entity<TKey>"
  aggregate_root: "AggregateRoot<TKey>"
  value_object: "ValueObject"
  domain_event: "IDomainEvent"
  repository: "IRepository<T, TKey>"
