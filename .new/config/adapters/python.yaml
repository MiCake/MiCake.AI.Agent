# =============================================================================
# Python Adapter Configuration
# =============================================================================
# Technology stack adapter for Python ecosystem
# =============================================================================

adapter:
  id: "python"
  name: "Python"
  version: "1.0"
  language: "Python"
  language_version: "3.11+"
  framework: "FastAPI"              # Or Django, Flask
  framework_version: "0.100+"

# -----------------------------------------------------------------------------
# Terminology Mapping
# -----------------------------------------------------------------------------
terminology:
  # Architecture components
  module: "module"
  service: "service"
  repository: "repository"
  controller: "router"              # FastAPI uses routers
  handler: "handler"
  model: "model"
  entity: "entity"
  value_object: "value_object"
  aggregate: "aggregate"
  domain_event: "event"
  
  # File extensions
  source_extension: ".py"
  test_extension: "_test.py"
  config_extension: ".yaml"
  
  # Project types
  project_types:
    - id: "library"
      name: "Library"
      template: "library"
    - id: "web"
      name: "Web Application"
      template: "fastapi"
    - id: "cli"
      name: "CLI Application"
      template: "cli"
    - id: "test"
      name: "Test Suite"
      template: "pytest"

# -----------------------------------------------------------------------------
# Commands
# -----------------------------------------------------------------------------
commands:
  # Package management (using pip)
  install: "pip install -r requirements.txt"
  install_dev: "pip install -r requirements-dev.txt"
  
  # Poetry commands
  poetry:
    install: "poetry install"
    add: "poetry add {package}"
    
  # Build
  build: "python -m build"
  
  # Test
  test: "pytest"
  test_coverage: "pytest --cov"
  
  # Lint/format
  lint: "ruff check ."
  format: "black . && isort ."
  type_check: "mypy ."
  
  # Run
  run: "python -m ${project.main}"
  run_dev: "uvicorn main:app --reload"

# -----------------------------------------------------------------------------
# Naming Conventions
# -----------------------------------------------------------------------------
patterns:
  namespace_convention: "snake_case"
  file_naming: "snake_case"
  class_naming: "PascalCase"
  method_naming: "snake_case"
  function_naming: "snake_case"
  variable_naming: "snake_case"
  private_naming: "_snake_case"      # Single underscore prefix
  protected_naming: "_snake_case"
  constant_naming: "UPPER_SNAKE_CASE"
  
  # Common suffixes/patterns
  suffixes:
    service: "_service"
    repository: "_repository"
    router: "_router"
    handler: "_handler"
    model: ""                        # No suffix for models
    schema: "_schema"                # Pydantic schemas

# -----------------------------------------------------------------------------
# Project Structure
# -----------------------------------------------------------------------------
project_structure:
  # Source structure
  source_dir: "src/"
  test_dir: "tests/"
  output_dir: "dist/"
  
  # Common package structure
  layers:
    domain: "domain/"
    application: "application/"
    infrastructure: "infrastructure/"
    api: "api/"
  
  # Configuration files
  config_files:
    - "pyproject.toml"
    - "setup.py"
    - "requirements.txt"
    - "requirements-dev.txt"
    - ".env"
    - "config.yaml"

# -----------------------------------------------------------------------------
# Code Style
# -----------------------------------------------------------------------------
code_style:
  # Type hints
  type_hints: true
  strict_typing: true
  
  # Documentation style: google | numpy | sphinx
  docstring_style: "google"
  
  # String handling
  quote_style: "double"
  use_f_strings: true
  
  # Python features
  use_dataclasses: true
  use_pydantic: true                # For validation and serialization
  use_protocols: true               # Structural subtyping
  
  # Async
  use_async: true

# -----------------------------------------------------------------------------
# Framework-Specific Settings
# -----------------------------------------------------------------------------
framework_settings:
  # FastAPI specific
  fastapi:
    dependency_injection: true
    automatic_docs: true
    validation: "pydantic"
    
  # Django specific
  django:
    orm: "Django ORM"
    admin: true
    
  # ORM options
  orm:
    sqlalchemy: true
    async_support: true

# -----------------------------------------------------------------------------
# Type Mappings
# -----------------------------------------------------------------------------
type_mappings:
  string: "str"
  integer: "int"
  long: "int"
  decimal: "Decimal"
  boolean: "bool"
  datetime: "datetime"
  datetimeoffset: "datetime"
  uuid: "UUID"
  binary: "bytes"
  
  # Collections
  list: "list[T]"
  set: "set[T]"
  dictionary: "dict[K, V]"
  readonly_list: "Sequence[T]"
  readonly_collection: "Collection[T]"

# -----------------------------------------------------------------------------
# Common Base Classes
# -----------------------------------------------------------------------------
base_classes:
  entity: "Entity[ID]"
  aggregate_root: "AggregateRoot[ID]"
  value_object: "ValueObject"
  domain_event: "DomainEvent"
  repository: "Repository[T, ID]"
